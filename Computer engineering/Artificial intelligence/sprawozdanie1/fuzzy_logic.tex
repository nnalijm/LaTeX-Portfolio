\documentclass[a4paper, 10pt]{article}

% PACKAGES
\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{caption}
\usepackage{float}
%\usepackage[left=25mm, right=25mm, top=45mm, bottom=45mm]{geometry}
\usepackage{hyperref}
\usepackage{import}

% PREAMBLE
% folder which contains images
\graphicspath{{./figures/}}

\renewcommand\contentsname{Spis treści}
\renewcommand\listfigurename{Spis rysunków}
\lstset{language=Python,                     
	basicstyle=\scriptsize, 
	breakatwhitespace=false,
	breaklines=true,
	commentstyle=\color{green}\ttfamily,
	frame=single,
	keepspaces=false,
	keywordstyle=\color{blue}\ttfamily,
	numbers=left,
	numbersep=5pt,
	showspaces=false,
	showstringspaces=false,
	showtabs=false,	
	stringstyle=\color{magenta}\ttfamily,
	tabsize=2,
	morecomment=[l][\color{red}]{\#}
}

\hypersetup{
	colorlinks=true,
	linkcolor=blue,
	filecolor=magenta,
	urlcolor=cyan,
	pdftitle={Synteza układu wnioskującego},
	pdfpagemode=FullScreen,
}

\begin{document}

\begin{titlepage}
\begin{center}
	\includegraphics[scale=0.7]{logo.png}

	\vspace*{4cm}
	\textbf{Sztuczna inteligencja\\ Laboratorium}

	\vspace{1.5cm}
	\textit{Synteza układu wnioskującego}

	\vspace{1.5cm}
	\textbf{Stanislau Antanovich}\\
	nr. indeksu: 173590\\
	gr. lab: L04
\end{center}
\end{titlepage}

\tableofcontents
\listoffigures

\newpage

\input{./sections/introduction.tex}
\import{./sections/}{introduction.tex}

\section{System ekspertowy typu Mamdaniego}\label{sec:c1}
\subsection{Problem}

Zaprojektować rozmyty układ ekspertowy doradzający ile napiwku pozostawić w restauracji na podstawie oceny jakości obsługi oraz jakości jedzenia. Jakość obsługi i jakość jedzenia będzie oceniana w skali od 1 do 10, gdzie 10 reprezentuję ocenę maksymalną, natomiast napiwek będzie liczbą z przedziału [0,30] reprezentującą procent wartości rachunku.

Baza reguł będzie składała się z 5 reguł. System zostanie wykonany w dwóch etapach. W \textbf{etapie pierwszym}(rys. \ref{fig:obsluga} i \ref{fig:napiwek}) system będzie zbudowany z jednego wejścia(\emph{obsługa}) i jednego wyjścia(\emph{napiwek}) oraz 3 reguł postaci:
\begin{itemize}
	\item[R1] \emph{jeżeli obsługa jest słaba, to napiwek jest mały}
	\item[R2] \emph{jeżeli obsługa jest dobra, to napiwek jest średni}
	\item[R3] \emph{jeżeli obsługa jest wspaniała, to napiwek jest duży}
\end{itemize}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{Figure_1.png}
	\caption{\textit{Obsługa}}
	\label{fig:obsluga}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{Figure_2.png}
	\caption{\textit{Napiwek}}
	\label{fig:napiwek}
\end{figure}

W \textbf{etapie drugim} do systemu zostanie dodane gruga zmienna wejściowa \emph{jedzenie}(rys. \ref{fig:jedzenie}) oraz 2 dodatkowe reguły
\begin{itemize}
	\item[R4] \emph{jeżeli jedzenie jest zepsute, to napiwek jest mały}
	\item[R5] \emph{jeżeli jedzenie jest wyborne, to napiwek jest duży}
\end{itemize}


\subsection{Realizacja}
\subsubsection{Inicjowanie modułów}\label{p1}

W tej sekcji inicjujemy wszystkie wymagane biblioteki dla prawidłowego działania programu.

\lstinputlisting[firstline=0, lastline=4]{./code/main.py}

\subsubsection{Tworzenie zmiennych stanu poprzednika ``obsługa'' oraz następnika ``napiwek''}\label{p2}

W tej sekcji tworzymy zmienne stanu poprzednika ``obsługa'' oraz następnika ``napiwek''.

\lstinputlisting[firstline=6, lastline=7]{./code/main.py}

\subsubsection{Dodanie zbiorów rozmytych}\label{p3}
 
W tej sekcji do zminnej \emph{obsługa} dodajemy następujące zbiory: \emph{slaba, dobra, wspaniala}. 

Zbiór \emph{slaba} o centrum umieszczonym w punkcie uniwersum równym \textbf{0} i rozpiętości wynoszącej \textbf{1.5}. Dla zbiorów \emph{dobra} i \emph{wspaniala} o centrach ulokowanych w punktach odpowiednio \textbf{5} oraz \textbf{10} i rozpiętości wynoszącej \textbf{1.5}

Dla zmiennej \emph{napiwek} dodajemy zbiory trójkątne: \emph{maly, sredni, duzy} o parametrach [0, 5, 10], [10, 15, 20] i [20, 25, 30] odpowiednio.

\lstinputlisting[firstline=9, lastline=15]{./code/main.py}

\subsubsection{Podgląd zbiorów rozmytych}\label{p4}

Podgląd zbiorów rozmytch można zrealizować metodą \verb|view()| dla poszczególnych zmiennych stanu.

\lstinputlisting[firstline=17, lastline=18]{./code/main.py}

\subsubsection{Definicja reguł}\label{p5}

W tej sekcji definiujemy reguły.

\lstinputlisting[firstline=20, lastline=22]{./code/main.py}

\subsubsection{Dodanie reguł do systemu rozmytego}\label{p6}

W tej sekcji dodajemy powyżej zdefiniowane reguły do systemu rozmytego.

\lstinputlisting[firstline=24, lastline=25]{./code/main.py}

\subsubsection{Sprawdzenie działania systemu}\label{p7}

W tej sekcji sprawdzamy działanie systemu dla wartości obsługi równej \textbf{0}(rys. \ref{fig:obsluga0}) oraz dla wartości równej \textbf{10}(rys. \ref{fig:obsluga10}).

\lstinputlisting[firstline=27,lastline=31]{./code/main.py}

Wartość napiwku dla wartości obsługi wynosi: 5.07657801

Wartość napiwku dla wartości obsługi wynosi: 24.9234219

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{Figure_3.png}
	\caption{\textit{Wyostrzenie metodą środka ciężkości dla wejścia obsługa = 0}}
	\label{fig:obsluga0}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{Figure_4.png}
	\caption{\textit{Wyostrzenie metodą środka ciężkości dla wejścia obsługa = 10}}
	\label{fig:obsluga10}

\end{figure}

\subsubsection{Sprawdzenie działania systemu dla wartości obsługi}\label{p8}

W tej sekcji sprawdzamy działanie systemu dla wartości obsługi od 0 do 10(rys. \ref{fig:napiwek_obsluga} wykres funkcji napiwek=f(obsluga)).

\lstinputlisting[firstline=33, lastline=45]{./code/main.py}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{Figure_5.png}
	\caption{\textit{Powierzchnia prejścia systemu ``napiwek'' o jednym wejściu}}
	\label{fig:napiwek_obsluga}
\end{figure}

\subsubsection{Dodanie drugiej wejściowej}\label{p9}
 
W tej selcji dodajemy drugą wejściową zmienną stanu ``jedzenie'' o trapezoidalnych(\verb|trapmf|) zbiorach rozmytych ``zepsute'' oraz ``wyborne''.

\lstinputlisting[firstline=17, lastline=19]{./code/main.py}

\subsubsection{Dodanie reguł 4 i 5}\label{p10}

W tej sekcji dodajemy reguły 4 i 5 analogicznie do punktu \ref{p5}.
\subsubsection{Sprawdzenie działania systemu dla wartości ``obsługi''}\label{p11}

W tej sekcji sprawdzamy działanie systemu dla wartości obsługi równej \textbf{0} oraz wartości jedzenia równej \textbf{0}.

\subsubsection{Sprawdzenie działania systemu dla wartości ``obsługi'' i ``jedzenia''}\label{p12}

W tej sekcji sprawdzamy działanie systemu dla wartości obsługi i jedzenia od 0 do 10(rys. \ref{fig:napiwek_obsluga_jedzenie})

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{Figure_6.png}
	\caption{\textit{Powierzchnia przejścia systemu ``napiwek'' o dwóch wejściach}}
	\label{fig:napiwek_obsluga_jedzenie}
\end{figure}


\section{Modyfikacja systemu}\label{sec:c2}

\section{Przykładowe zadania zaliczeniowe}\label{sec:c3}
 
\section{Wnioski}

\end{document}
